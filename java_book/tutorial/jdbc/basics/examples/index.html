
<p>The sample code that comes with this tutorial creates a database that is used by a proprietor of a small coffee house called The Coffee Break, where coffee beans are sold by the pound and brewed coffee is sold by the cup.</p>
<p>The following steps configure a JDBC development environment with which you can compile and run the tutorial samples:</p>
<ol><!-- ********************* -->
<li>
<p>Install the latest version of the Java SE SDK on your computer.</p>
<p>Ensure that the full directory path of the Java SE SDK <code>bin</code> directory is in your <code>PATH</code> environment variable so that you can run the Java compiler and the Java application launcher from any directory.</p>
</li>
<!-- ********************* -->
<li>
<p>Install your database management system (DBMS) if needed.</p>
<p>You may use Java DB, which comes with the latest version of Java SE SDK. This tutorial has been tested for the following DBMS:</p>
<ul>
<li><a href="http://www.oracle.com/technetwork/java/javadb/overview/index.html">Java DB</a></li>
<li><a href="http://www.mysql.com/">MySQL</a></li>
</ul>
<p>Note that if you are using another DBMS, you might have to alter the code of the tutorial samples.</p>
</li>
<!-- ********************* -->
<li>
<p>Install a JDBC driver from the vendor of your database.</p>
<p>If you are using Java DB, it already comes with a JDBC driver. If you are using MySQL, install the latest version of <a href="http://www.mysql.com/products/connector/">Connector/J</a>.</p>
<p>Contact the vendor of your database to obtain a JDBC driver for your DBMS.</p>
<p>There are many possible implementations of JDBC drivers. These implementations are categorized as follows:</p>
<ul>
<li>
<p><strong>Type 1</strong>: Drivers that implement the JDBC API as a mapping to another data access API, such as ODBC (Open Database Connectivity). Drivers of this type are generally dependent on a native library, which limits their portability. The JDBC-ODBC Bridge is an example of a Type 1 driver.</p>
<p><strong>Note</strong>: The JDBC-ODBC Bridge should be considered a transitional solution. It is not supported by Oracle. Consider using this only if your DBMS does not offer a Java-only JDBC driver.</p>
</li>
<li>
<p><strong>Type 2</strong>: Drivers that are written partly in the Java programming language and partly in native code. These drivers use a native client library specific to the data source to which they connect. Again, because of the native code, their portability is limited. Oracle&#39;s OCI (Oracle Call Interface) client-side driver is an example of a Type 2 driver.</p>
</li>
<li>
<p><strong>Type 3</strong>: Drivers that use a pure Java client and communicate with a middleware server using a database-independent protocol. The middleware server then communicates the client&#39;s requests to the data source.</p>
</li>
<li>
<p><strong>Type 4</strong>: Drivers that are pure Java and implement the network protocol for a specific data source. The client connects directly to the data source.</p>
</li>
</ul>
<p>Check which driver types comes with your DBMS. Java DB comes with two Type 4 drivers, an Embedded driver and a Network Client Driver. MySQL Connector/J is a Type 4 driver.</p>
<p>Installing a JDBC driver generally consists of copying the driver to your computer, then adding the location of it to your class path. In addition, many JDBC drivers other than Type 4 drivers require you to install a client-side API. No other special configuration is usually needed.</p>
</li>
<!-- ********************* -->
<li>
<p>Install Apache Ant.</p>
<p>These steps use Apache Ant, a Java-based tool, to build, compile, and run the JDBC tutorial samples. Go to the following link to download Apache Ant:</p>
<p><code><a href="http://ant.apache.org/">http://ant.apache.org/</a></code></p>
<p>Ensure that the Apache Ant executable file is in your <code>PATH</code> environment variable so that you can run it from any directory.</p>
</li>
<!-- ********************* -->
<li>
<p>Install Apache Xalan.</p>
<p>The sample <code>RSSFeedsTable.java</code> requires Apache Xalan if your DBMS is Java DB. The sample uses Apache Xalan-Java. Go to the following link to download it:</p>
<p><code><a href="http://xml.apache.org/xalan-j/">http://xml.apache.org/xalan-j/</a></code></p>
</li>
<!-- ********************* -->
<li>
<p>Download the sample code.</p>
<p>The sample code, <code><a href="zipfiles/JDBCTutorial.zip">JDBCTutorial.zip</a></code>, consists of the following files:</p>
<ul>
<li><code>properties</code>
<ul>
<li><code>javadb-build-properties.xml</code></li>
<li><code>javadb-sample-properties.xml</code></li>
<li><code>mysql-build-properties.xml</code></li>
<li><code>mysql-sample-properties.xml</code></li>
</ul>
</li>
<li><code>sql</code>
<ul>
<li><code>javadb</code>
<ul>
<li><code>create-procedures.sql</code></li>
<li><code>create-tables.sql</code></li>
<li><code>drop-tables.sql</code></li>
<li><code>populate-tables.sql</code></li>
</ul>
</li>
<li><code>mysql</code>
<ul>
<li><code>create-procedures.sql</code></li>
<li><code>create-tables.sql</code></li>
<li><code>drop-tables.sql</code></li>
<li><code>populate-tables.sql</code></li>
</ul>
</li>
</ul>
</li>
<li><code>src/com/oracle/tutorial/jdbc</code>
<ul>
<li><code>CachedRowSetSample.java</code></li>
<li><code>CityFilter.java</code></li>
<li><code>ClobSample.java</code></li>
<li><code>CoffeesFrame.java</code></li>
<li><code>CoffeesTable.java</code></li>
<li><code>CoffeesTableModel.java</code></li>
<li><code>DatalinkSample.java</code></li>
<li><code>ExampleRowSetListener.java</code></li>
<li><code>FilteredRowSetSample.java</code></li>
<li><code>JdbcRowSetSample.java</code></li>
<li><code>JDBCTutorialUtilities.java</code></li>
<li><code>JoinSample.java</code></li>
<li><code>ProductInformationTable.java</code></li>
<li><code>RSSFeedsTable.java</code></li>
<li><code>StateFilter.java</code></li>
<li><code>StoredProcedureJavaDBSample.java</code></li>
<li><code>StoredProcedureMySQLSample.java</code></li>
<li><code>SuppliersTable.java</code></li>
<li><code>WebRowSetSample.java</code></li>
</ul>
</li>
<li><code>txt</code>
<ul>
<li><code>colombian-description.txt</code></li>
</ul>
</li>
<li><code>xml</code>
<ul>
<li><code>rss-coffee-industry-news.xml</code></li>
<li><code>rss-the-coffee-break-blog.xml</code></li>
</ul>
</li>
<li><code>build.xml</code></li>
</ul>
<p>Create a directory to contain all the files of the sample. These steps refer to this directory as <code><em>&lt;JDBC tutorial directory&gt;</em></code>. Unzip the contents of <code><a href="zipfiles/JDBCTutorial.zip">JDBCTutorial.zip</a></code> into <code><em>&lt;JDBC tutorial directory&gt;</em></code>.</p>
<!-- ********************* --></li>
<li>
<p>Modify the <code>build.xml</code> file.</p>
<p>The <code>build.xml</code> file is the build file that Apache Ant uses to compile and execute the JDBC samples. The files <code>properties/javadb-build-properties.xml</code> and <code>properties/mysql-build-properties.xml</code> contain additional Apache Ant properties required for Java DB and MySQL, respectively. The files <code>properties/javadb-sample-properties.xml</code> and <code>properties/mysql-sample-properties.xml</code> contain properties required by the sample.</p>
<p>Modify these XML files as follows:</p>
<ol style="list-style-type:lower-alpha">
<li>
<p>In the <code>build.xml</code> file, modify the property <code>ANTPROPERTIES</code> to refer to either <code>properties/javadb-build-properties.xml</code> or <code>properties/mysql-build-properties.xml</code>, depending on your DBMS. For example, if you are using Java DB, your <code>build.xml</code> file would contain this:</p>

&lt;property name="ANTPROPERTIES" value="properties/javadb-build-properties.xml"/>

  &lt;import file="${ANTPROPERTIES}"/>

<p>Similarly, if you are using MySQL, your <code>build.xml</code> file would contain this:</p>

&lt;property name="ANTPROPERTIES" value="properties/mysql-build-properties.xml"/>

  &lt;import file="${ANTPROPERTIES}"/>

</li>
<li>
<p>In the <code>properties/javadb-build-properties.xml</code> or <code>properties/mysql-build-properties.xml</code> file (depending on your DBMS), modify the following properties, as described in the following table:</p>
<table border="1" summary="DBMS-specific build properties">
<tr>
<th id="h1">Property</th>
<th id="h2">Description</th>
</tr>
<tr>
<td headers="h1"><code>JAVAC</code></td>
<td headers="h2">The full path name of your Java compiler, <code>javac</code></td>
</tr>
<tr>
<td headers="h1"><code>JAVA</code></td>
<td headers="h2">The full path name of your Java runtime executable, <code>java</code></td>
</tr>
<tr>
<td headers="h1"><code>PROPERTIESFILE</code></td>
<td headers="h2">The name of the properties file, either <code>properties/javadb-sample-properties.xml</code> or <code>properties/mysql-sample-properties.xml</code></td>
</tr>
<tr>
<td headers="h1"><code>MYSQLDRIVER</code></td>
<td headers="h2">The full path name of your MySQL driver. For Connector/J, this is typically <code><em>&lt;Connector/J installation directory&gt;</em>/mysql-connector-java-<em>version-number</em>.jar</code>.</td>
</tr>
<tr>
<td headers="h1"><code>JAVADBDRIVER</code></td>
<td headers="h2">The full path name of your Java DB driver. This is typically <code><em>&lt;Java DB installation directory&gt;</em>/lib/derby.jar</code>.</td>
</tr>
<tr>
<td headers="h1"><code>XALANDIRECTORY</code></td>
<td headers="h2">The full path name of the directory that contains Apache Xalan.</td>
</tr>
<tr>
<td headers="h1"><code>CLASSPATH</code></td>
<td headers="h2">The class path that the JDBC tutorial uses. <em>You do not need to change this value.</em></td>
</tr>
<tr>
<td headers="h1"><code>XALAN</code></td>
<td headers="h2">The full path name of the file <code>xalan.jar</code>.</td>
</tr>
<tr>
<td headers="h1"><code>DB.VENDOR</code></td>
<td headers="h2">A value of either <code>derby</code> or <code>mysql</code> depending on whether you are using Java DB or MySQL, respectively. The tutorial uses this value to construct the URL required to connect to the DBMS and identify DBMS-specific code and SQL statements.</td>
</tr>
<tr>
<td headers="h1"><code>DB.DRIVER</code></td>
<td headers="h2">The fully qualified class name of the JDBC driver. For Java DB, this is <code>org.apache.derby.jdbc.EmbeddedDriver</code>. For MySQL, this is <code>com.mysql.jdbc.Driver</code>.</td>
</tr>
<tr>
<td headers="h1"><code>DB.HOST</code></td>
<td headers="h2">The host name of the computer hosting your DBMS.</td>
</tr>
<tr>
<td headers="h1"><code>DB.PORT</code></td>
<td headers="h2">The port number of the computer hosting your DBMS.</td>
</tr>
<tr>
<td headers="h1"><code>DB.SID</code></td>
<td headers="h2">The name of the database the tutorial creates and uses.</td>
</tr>
<tr>
<td headers="h1"><code>DB.URL.NEWDATABASE</code></td>
<td headers="h2">The connection URL used to connect to your DBMS when creating a new database. <em>You do not need to change this value.</em></td>
</tr>
<tr>
<td headers="h1"><code>DB.URL</code></td>
<td headers="h2">The connection URL used to connect to your DBMS. <em>You do not need to change this value.</em></td>
</tr>
<tr>
<td headers="h1"><code>DB.USER</code></td>
<td headers="h2">The name of the user that has access to create databases in the DBMS.</td>
</tr>
<tr>
<td headers="h1"><code>DB.PASSWORD</code></td>
<td headers="h2">The password of the user specified in <code>DB.USER</code>.</td>
</tr>
<tr>
<td headers="h1"><code>DB.DELIMITER</code></td>
<td headers="h2">The character used to separate SQL statements. <em>Do not change this value.</em> It should be the semicolon character (<code>;</code>).</td>
</tr>
</table>
</li>
</ol>
<!-- ********************* --></li>
<li>
<p>Modify the tutorial properties file.</p>
<p>The tutorial samples use the values in either the <code>properties/javadb-sample-properties.xml</code> file or <code>properties/mysql-sample-properties.xml</code> file (depending on your DBMS) to connect to the DBMS and initialize databases and tables, as described in the following table:</p>
<table border="1" summary="DBMS-specific sample properties">
<tr>
<th id="h101">Property</th>
<th id="h102">Description</th>
</tr>
<tr>
<td headers="h101"><code>dbms</code></td>
<td headers="h102">A value of either <code>derby</code> or <code>mysql</code> depending on whether you are using Java DB or MySQL, respectively. The tutorial uses this value to construct the URL required to connect to the DBMS and identify DBMS-specific code and SQL statements.</td>
</tr>
<tr>
<td headers="h101"><code>jar_file</code></td>
<td headers="h102">The full path name of the JAR file that contains all the class files of this tutorial.</td>
</tr>
<tr>
<td headers="h101"><code>driver</code></td>
<td headers="h102">The fully qualified class name of the JDBC driver. For Java DB, this is <code>org.apache.derby.jdbc.EmbeddedDriver</code>. For MySQL, this is <code>com.mysql.jdbc.Driver</code>.</td>
</tr>
<tr>
<td headers="h101"><code>database_name</code></td>
<td headers="h102">The name of the database the tutorial creates and uses.</td>
</tr>
<tr>
<td headers="h101"><code>user_name</code></td>
<td headers="h102">The name of the user that has access to create databases in the DBMS.</td>
</tr>
<tr>
<td headers="h101"><code>password</code></td>
<td headers="h102">The password of the user specified in <code>user_name</code>.</td>
</tr>
<tr>
<td headers="h101"><code>server_name</code></td>
<td headers="h102">The host name of the computer hosting your DBMS.</td>
</tr>
<tr>
<td headers="h101"><code>port_number</code></td>
<td headers="h102">The port number of the computer hosting your DBMS.</td>
</tr>
</table>
<p><strong>Note</strong>: For simplicity in demonstrating the JDBC API, the JDBC tutorial sample code does not perform the password management techniques that a deployed system normally uses. In a production environment, you can follow the Oracle Database password management guidelines and disable any sample accounts. See the section <a href="http://docs.oracle.com/docs/cd/B28359_01/network.111/b28531/app_devs.htm#CJADABGG">&quot;Securing Passwords in Application Design&quot;</a> in <a href="http://docs.oracle.com/docs/cd/B28359_01/network.111/b28531/app_devs.htm">Chapter 5, &quot;Managing Security for Application Developers&quot;</a> in <a href="http://docs.oracle.com/docs/cd/B28359_01/network.111/b28531/toc.htm"><em>Oracle Database Security Guide</em></a> for password management guidelines and other security recommendations.</p>
</li>
<!-- ********************* -->
<li>
<p>Compile and package the samples.</p>
<p>At a command prompt, change the current directory to <code><em>&lt;JDBC tutorial directory&gt;</em></code>. From this directory, run the following command to compile the samples and package them in a jar file:</p>
<code>ant jar</code></li>
<!-- ********************* -->
<li>
<p>Create databases, tables, and populate tables.</p>
<p>If you are using MySQL, then run the following command to create a database:</p>
<code>ant create-mysql-database</code>
<p>If you are using either Java DB or MySQL, then from the same directory, run the following command to delete existing sample database tables, recreate the tables, and populate them:</p>
<code>ant setup</code>
<p><strong>Note</strong>: You should run the command <code>ant setup</code> every time before you run one of the Java classes in the sample. Many of these samples expect specific data in the contents of the sample&#39;s database tables.</p>
</li>
<!-- ********************* -->
<li>
<p>Run the samples.</p>
<p>Each target in the <code>build.xml</code> file corresponds to a Java class or SQL script in the JDBC samples. The following table lists the targets in the <code>build.xml</code> file, which class or script each target executes, and other classes or files each target requires:</p>
<table border="1" summary="build.xml targets">
<tr>
<th id="h201">Ant Target</th>
<th id="h202">Class or SQL Script</th>
<th id="h203">Other Required Classes or Files</th>
</tr>
<tr>
<td headers="h201"><code>javadb-create-procedure</code></td>
<td headers="h202"><code>javadb/create-procedures.sql</code>; see the <code>build.xml</code> file to view other SQL statements that are run</td>
<td headers="h203">No other required files</td>
</tr>
<tr>
<td headers="h201"><code>mysql-create-procedure</code></td>
<td headers="h202"><code>mysql/create-procedures.sql</code>.</td>
<td headers="h203">No other required files</td>
</tr>
<tr>
<td headers="h201"><code>run</code></td>
<td headers="h202"><code>JDBCTutorialUtilities</code></td>
<td headers="h203">No other required classes</td>
</tr>
<tr>
<td headers="h201"><code>runct</code></td>
<td headers="h202"><code>CoffeesTable</code></td>
<td headers="h203"><code>JDBCTutorialUtilities</code></td>
</tr>
<tr>
<td headers="h201"><code>runst</code></td>
<td headers="h202"><code>SuppliersTable</code></td>
<td headers="h203"><code>JDBCTutorialUtilities</code></td>
</tr>
<tr>
<td headers="h201"><code>runjrs</code></td>
<td headers="h202"><code>JdbcRowSetSample</code></td>
<td headers="h203"><code>JDBCTutorialUtilities</code></td>
</tr>
<tr>
<td headers="h201"><code>runcrs</code></td>
<td headers="h202"><code>CachedRowSetSample</code>, <code>ExampleRowSetListener</code></td>
<td headers="h203"><code>JDBCTutorialUtilities</code></td>
</tr>
<tr>
<td headers="h201"><code>runjoin</code></td>
<td headers="h202"><code>JoinSample</code></td>
<td headers="h203"><code>JDBCTutorialUtilities</code></td>
</tr>
<tr>
<td headers="h201"><code>runfrs</code></td>
<td headers="h202"><code>FilteredRowSetSample</code></td>
<td headers="h203"><code>JDBCTutorialUtilities</code>, <code>CityFilter</code>, <code>StateFilter</code></td>
</tr>
<tr>
<td headers="h201"><code>runwrs</code></td>
<td headers="h202"><code>WebRowSetSample</code></td>
<td headers="h203"><code>JDBCTutorialUtilities</code></td>
</tr>
<tr>
<td headers="h201"><code>runclob</code></td>
<td headers="h202"><code>ClobSample</code></td>
<td headers="h203"><code>JDBCTutorialUtilities</code>, <code>txt/colombian-description.txt</code></td>
</tr>
<tr>
<td headers="h201"><code>runrss</code></td>
<td headers="h202"><code>RSSFeedsTable</code></td>
<td headers="h203"><code>JDBCTutorialUtilities</code>, the XML files contained in the <code>xml</code> directory</td>
</tr>
<tr>
<td headers="h201"><code>rundl</code></td>
<td headers="h202"><code>DatalinkSample</code></td>
<td headers="h203"><code>JDBCTutorialUtilities</code></td>
</tr>
<tr>
<td headers="h201"><code>runspjavadb</code></td>
<td headers="h202"><code>StoredProcedureJavaDBSample</code></td>
<td headers="h203"><code>JDBCTutorialUtilities</code>, <code>SuppliersTable</code>, <code>CoffeesTable</code></td>
</tr>
<tr>
<td headers="h201"><code>runspmysql</code></td>
<td headers="h202"><code>StoredProcedureMySQLSample</code></td>
<td headers="h203"><code>JDBCTutorialUtilities</code>, <code>SuppliersTable</code>, <code>CoffeesTable</code></td>
</tr>
<tr>
<td headers="h201"><code>runframe</code></td>
<td headers="h202"><code>CoffeesFrame</code></td>
<td headers="h203"><code>JDBCTutorialUtilities</code>, <code>CoffeesTableModel</code></td>
</tr>
</table>
<p>For example, to run the class <code>CoffeesTable</code>, change the current directory to <code><em>&lt;JDBC tutorial directory&gt;</em></code>, and from this directory, run the following command:</p>
<code>ant runct</code></li>
</ol>


